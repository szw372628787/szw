<!doctype html>
<html>
<head>
  <meta charset='utf-8'/>
  <title></title>
</head>
<style>
*{margin:0;padding:0}
	#div11{width:350px;height:350px;border:1px #ccc solid;float:left;position:relative}
	#div11 img{width:350px;height:350px}
	#div22{width:400px;height:400px;border:1px #ccc solid;float:left;overflow:hidden;margin-left:10px;display:none;position:relative}
	#div22 img{width:800px;height:800px;position:absolute}
	#kuai1{width:150px;height:150px;background:#FEDE4F;opacity:0.5;cursor:pointer;display:none;position:absolute;left:0;top:0}
</style>
<body>
 <div id="div11"><img src="2.jpg"/>
 <div id="kuai1"></div>
 </div>
 <div id="div22"><img src="2.jpg"/></div>
 
	<script>
	var div1 = document.getElementById("div11")
	var bimg = div1.getElementsByTagName("img")[0]
	var div2 = document.getElementById("div22")
	var aimg = div2.getElementsByTagName("img")[0]
	var kuai = document.getElementById("kuai1")
		
	
	div1.onmousemove=function(e){
		var e = e||window.event;

		div2.style.display="block"
		kuai.style.display="block"
		
		var x = e.clientX-kuai.offsetWidth/2
		var y = e.clientY-kuai.offsetHeight/2
		var l = div1.offsetWidth-kuai.offsetWidth;
		var t = div1.offsetHeight-kuai.offsetHeight;
		var bili = aimg.offsetWidth/bimg.offsetWidth
	
		if(x<=0){
			x=0
		}
		if(x>=l){
			x=l
		}
		
		if(y<=0){
			y=0
		}
		if(y>=t){
			y=t	
		}

		kuai.style.left=x+"px"
		kuai.style.top=y+"PX"
		aimg.style.left=-(x*bili)+"px"
		aimg.style.top=-(y*bili)+"px"
	}	
	
	div1.onmouseout=function(){
	
		div2.style.display="none"
		kuai.style.display="none"


	}




	

	</script>

</body>
</html>


